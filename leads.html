<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–õ–∏–¥—ã ‚Äî Coldi CRM</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" href="img/logo.svg" type="image/svg+xml" />
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
  <div class="sidebar">
    <div class="logo">
      <img src="img/logo.svg" alt="Logo" />
      Coldi CRM
    </div>
    <div class="menu">
      <a href="home.html"><i class="lucide lucide-home"></i> –ì–ª–∞–≤–Ω–∞—è</a>
      <a href="leads.html" class="active"><i class="lucide lucide-users"></i> –õ–∏–¥—ã</a>
      <a href="notifications.html"><i class="lucide lucide-bell"></i> –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</a>
      <a href="admin.html" id="adminSettings"><i class="lucide lucide-settings"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
    </div>
  </div>

  <div class="topbar">
    <div style="display: flex; align-items: center; gap: 20px;">
      <div class="bell" onclick="toggleNotifications()">
        <i class="lucide lucide-bell"></i>
        <div class="notification-popup" id="notificationPopup">
          <div class="empty">–ü–æ–∫–∞ –∑–¥–µ—Å—å –ø—É—Å—Ç–æ</div>
        </div>
      </div>
      <div class="greeting" id="greetingText">–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!</div>
    </div>
    <button class="logout" onclick="logout()">–í—ã—Ö–æ–¥</button>
  </div>

  <div class="content">
    <h2>–ë–∞–∑–∞ –ª–∏–¥–æ–≤</h2>

    <!-- –§–∏–ª—å—Ç—Ä—ã -->
    <div class="leads-filters">
      <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—É" />

      <select id="statusFilter">
        <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
        <option value="new">–ù–æ–≤—ã–π</option>
        <option value="in-progress">–í —Ä–∞–±–æ—Ç–µ</option>
        <option value="closed">–ó–∞–∫—Ä—ã—Ç</option>
      </select>

      <select id="affiliateFilter">
        <option value="">–í—Å–µ –∞—Ñ—Ñ–∏–ª–∏–∞—Ç—ã</option>
        <option value="partnerA">partnerA</option>
        <option value="partnerB">partnerB</option>
      </select>

      <select id="limitSelect">
        <option value="10">–ü–æ–∫–∞–∑–∞—Ç—å 10</option>
        <option value="20">20</option>
        <option value="30">30</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
    </div>

    <!-- –õ–∏–¥—ã -->
    <div id="leadList" class="lead-list">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –ª–∏–¥–æ–≤ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
    </div>

    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
    <div id="pagination" class="pagination"></div>
  </div>

  <script>
    const role = localStorage.getItem("role");
    const greeting = document.getElementById("greetingText");
    const adminMenu = document.getElementById("adminSettings");

    if (!role) {
      window.location.href = "index.html";
    } else {
      greeting.textContent = role === "admin" ? "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä!" : "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –º–µ–Ω–µ–¥–∂–µ—Ä!";
      adminMenu.style.display = role === "admin" ? "flex" : "none";
    }

    function logout() {
      localStorage.removeItem("role");
      localStorage.removeItem("user");
      window.location.href = "index.html";
    }

    function toggleNotifications() {
      document.getElementById("notificationPopup").classList.toggle("show");
    }

    lucide.createIcons();
  </script>
  <div id="notificationIcon" class="notification-icon">
  <img src="img/bell.svg" alt="üîî" />
  <div id="notificationBadge" class="notification-badge" style="display: none;">0</div>
</div>

<div id="notificationPopup" class="notification-popup" style="display: none;"></div>

<script src="js/reminder.js"></script>

</body>
</html>
